# Test config with cached assets
project:
  name: test-cached-assets
  workspace: workspace
  production_user:
    name: modeluser
    uid: 1000
    gid: 1000

runtime:
  backend: auto
  privileged: false
  features: []

stages:
  base:
    from: python:3.11-slim
    packages:
      pip:
        - requests
    env:
      MODEL_PATH: /models
    cached_assets:
      - url: https://httpbin.org/uuid
        dest: /models/test.json
    steps:
      - install_system_packages
      - install_pip_packages
      - create_user
      - copy_cached_assets

  development:
    from: base

  production:
    from: base
